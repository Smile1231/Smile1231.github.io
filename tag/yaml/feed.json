{
    "version": "https://jsonfeed.org/version/1",
    "title": "JIN MAO 's Blog • All posts by \"yaml\" tag",
    "description": "",
    "home_page_url": "https://smile1231.github.io",
    "items": [
        {
            "id": "https://smile1231.github.io/posts/e18abc1d/",
            "url": "https://smile1231.github.io/posts/e18abc1d/",
            "title": "关于YAML中List存放Map",
            "date_published": "2022-02-13T13:27:41.000Z",
            "content_html": "<h1 id=\"关于YAML中List存放Map\"><a href=\"#关于YAML中List存放Map\" class=\"headerlink\" title=\"关于YAML中List存放Map\"></a>关于<code>YAML</code>中<code>List</code>存放<code>Map</code></h1><h2 id=\"YAML如何书写\"><a href=\"#YAML如何书写\" class=\"headerlink\" title=\"YAML如何书写\"></a><code>YAML</code>如何书写</h2><blockquote>\n<p><code>YAML</code>语法</p>\n</blockquote>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">大小写敏感</span><br><span class=\"line\">使用缩进表示层级关系</span><br><span class=\"line\">缩进时不允许使用<span class=\"literal\">Tab</span>键，只允许使用空格。</span><br><span class=\"line\">缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>支持的数据结构</p>\n</blockquote>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对象：键值对的集合，又称为映射（<span class=\"keyword\">mapping</span>）/ 哈希（hashes） / 字典（<span class=\"keyword\">dictionary</span>）</span><br><span class=\"line\">数组：一组按次序排列的值，又称为序列（<span class=\"keyword\">sequence</span>） / 列表（list）</span><br><span class=\"line\">基本类型：单个的、不可再分的值</span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n<blockquote>\n<p>基本语法</p>\n</blockquote>\n<ul>\n<li><code>k:</code>(空格)<code>v：</code>表示一对键值对</li>\n<li><code>v:</code>包含上面举的数据</li>\n<li><code>k;string</code>类型</li>\n</ul>\n<blockquote>\n<p><code>value</code>的使用说明</p>\n</blockquote>\n<ul>\n<li><p>基本类型：数字，字符串，布尔</p>\n<ul>\n<li><code>k: v：</code>字面直接来写；</li>\n<li>字符串默认不用加上单引号或者双引号；</li>\n</ul>\n</li>\n<li><p><code>&quot;&quot;</code>：双引号:不会转义字符串里面的特殊字符；</p>\n<ul>\n<li>特殊字符会作为本身想表示的意思；</li>\n<li>如 ：<code>name: &quot;zhangsan \\n lisi&quot;：</code>输出；<code>zhangsan</code> 换行 <code>lisi</code></li>\n</ul>\n</li>\n<li><p><code>&#39;&#39;</code>：单引号:转义特殊字符</p>\n<ul>\n<li>特殊字符终只是一个普通的字符串数据 ，</li>\n<li>如： <code>name: ‘zhangsan \\n lisi’：输出；zhangsan \\n lisi </code></li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>对象、Map（属性和值）（键值对）：</p>\n</blockquote>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"attr\">k:</span> <span class=\"string\">v：在下一行来写对象的属性和值的关系；注意缩进对象还是k:</span> <span class=\"string\">v的方式</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">friends:</span> </span><br><span class=\"line\"> \t<span class=\"attr\">lastName:</span> <span class=\"string\">zhangsan</span>          </span><br><span class=\"line\"> \t<span class=\"attr\">age:</span> <span class=\"number\">20</span></span><br><span class=\"line\"> <span class=\"comment\">## 行内写法：friends: &#123;lastName: zhangsan,age: 18&#125;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>数组（<code>List、Set</code>）：</p>\n</blockquote>\n<p>用- 值表示数组中的一个元素</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"attr\">pets:</span>  </span><br><span class=\"line\">\t<span class=\"string\">‐</span> <span class=\"string\">cat</span>  </span><br><span class=\"line\">\t<span class=\"string\">‐</span> <span class=\"string\">dog</span>  </span><br><span class=\"line\">\t<span class=\"string\">‐</span> <span class=\"string\">pig</span></span><br><span class=\"line\"><span class=\"comment\"># 行内写法 pets: [cat,dog,pig]</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"yml的使用\"><a href=\"#yml的使用\" class=\"headerlink\" title=\"yml的使用\"></a><code>yml</code>的使用</h2><ul>\n<li><p>简单类型使用 <code>@Value</code></p>\n</li>\n<li><p>复杂类型使用 ：<code>@ConfigurationProperties</code></p>\n<ol>\n<li>如果说，我们只是在某个业务逻辑中需要获取一下配置文件中的某项值，使用<code>@Value；</code> </li>\n<li>如果说，我们专门编写了一个javaBean来和配置文件进行映射，我们就直接使用<code>@ConﬁgurationProperties；</code></li>\n</ol>\n</li>\n</ul>\n<p><code>yml</code>文件：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">test:</span> <span class=\"string\">小猪</span></span><br><span class=\"line\">  <span class=\"comment\">#list&lt;map&gt;</span></span><br><span class=\"line\">  <span class=\"attr\">testList:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span></span><br><span class=\"line\">      <span class=\"attr\">name:</span> <span class=\"string\">小王</span></span><br><span class=\"line\">      <span class=\"attr\">age:</span> <span class=\"number\">12</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span></span><br><span class=\"line\">      <span class=\"attr\">name:</span> <span class=\"string\">小李</span></span><br><span class=\"line\">      <span class=\"attr\">age:</span> <span class=\"number\">13</span></span><br><span class=\"line\">  <span class=\"comment\"># map&lt;String,String&gt;</span></span><br><span class=\"line\">  <span class=\"attr\">testMap:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">小朱</span></span><br><span class=\"line\">    <span class=\"attr\">age:</span> <span class=\"number\">14</span></span><br><span class=\"line\"><span class=\"attr\">testname:</span> <span class=\"string\">小明</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"使用-Value\"><a href=\"#使用-Value\" class=\"headerlink\" title=\"使用@Value\"></a>使用<code>@Value</code></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* value 的使用</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ValueTest</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">// 直接赋值</span></span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"meta\">@Value(&quot;小李&quot;)</span></span><br><span class=\"line\">     <span class=\"keyword\">private</span>  String name;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"meta\">@Value(&quot;1&quot;)</span></span><br><span class=\"line\">     <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> num;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"comment\">//读取配置文件的信息</span></span><br><span class=\"line\">     <span class=\"meta\">@Value(&quot;$&#123;spring.testMap.name&#125;&quot;)</span></span><br><span class=\"line\">     <span class=\"keyword\">private</span> String name2;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"meta\">@Value(&quot;$&#123;spring.test&#125;&quot;)</span></span><br><span class=\"line\">     <span class=\"keyword\">private</span> String name1;</span><br><span class=\"line\">     <span class=\"comment\">//报错</span></span><br><span class=\"line\">     <span class=\"comment\">//@Value(&quot;$&#123;spring.testMap&#125;&quot;)</span></span><br><span class=\"line\">     <span class=\"keyword\">private</span> Map&lt;String,String&gt; map;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"comment\">//使用SpEL</span></span><br><span class=\"line\">     <span class=\"meta\">@Value(&quot;#&#123;1+1&#125;&quot;)</span></span><br><span class=\"line\">     <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> num1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>进行测试<code>Test</code>:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Autowired</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> ValueTest valueTest;</span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test111</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">     System.out.println(valueTest);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ValueTest&#123;name=&#x27;小李&#x27;, num=1, name2=&#x27;小朱&#x27;, name1=&#x27;小猪&#x27;, map=null, num1=2&#125;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"使用-ConfigurationProperties\"><a href=\"#使用-ConfigurationProperties\" class=\"headerlink\" title=\"使用@ConfigurationProperties\"></a>使用<code>@ConfigurationProperties</code></h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span>         </span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span>              \t\t\t\t\t</span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring‐boot‐configuration‐processor<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span>              </span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">optional</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">optional</span>&gt;</span>              </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"meta\">@ConfigurationProperties(prefix = &quot;spring&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@Validated</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestConfigurationProperties</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Map&gt; testList;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Map&lt;String,String&gt; testMap;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String test;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> TestConfigurationProperties testConfigurationProperties;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test8</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        System.out.println(testConfigurationProperties.getTestMap());</span><br><span class=\"line\">        System.out.println(testConfigurationProperties.getTestList());</span><br><span class=\"line\">        System.out.println(testConfigurationProperties.getName());</span><br><span class=\"line\">        System.out.println(testConfigurationProperties.getTest());</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">//&#123;name=小朱, age=14&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//[&#123;name=小王, age=12&#125;, &#123;name=小李, age=13&#125;]</span></span><br><span class=\"line\"><span class=\"comment\">//null</span></span><br><span class=\"line\"><span class=\"comment\">//小猪</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n\n\n",
            "tags": [
                "Java",
                "Yaml"
            ]
        }
    ]
}